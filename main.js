var problemList = [
  {
      name: 'et_gcd_nsn',
      hash: 'ec9ca73eca1c2637abf8f2cc184885f5ce4f6abd5b1720bc08e5d8910721592e',
      correct: 'c9022680f888674e2b2274758755bfa07dea729b68d71cde5c521ed70ef261bf',
  },

  {
      name: 'et_ceasar',
      hash: '883ca531a303ddaaa12c05b5f5dd581929bba7505561a042b6591bf6e93c4cad',
      correct: '259aa8ef98a8b91de574cd904138ef643240c23080cf24da4793a6f10a43fa9d',
  },

  {
      name: 'mh_sum_over_100',
      hash: '5e343d4f2ee6a9cff164b284c22a82b4fc65b67f2ef1502804754a72f3af7bc2',
      correct: '44c5e7071f3a75a22457bc5f06d3e2ba564b4d6ee8165fb0e9087bacf953bcc3',
  },

  {
      name: 'et_letter_freq',
      hash: '95f720c71992354bfbb32731ab6064244a937dd2398fabfad5e440850af67a37',
      correct: 'd3cec99112255db9bf4963f7798562b6a36f1bd0b2016918629e007d474deb70',
  },

  {
      name: 'et_collatz',
      hash: 'a9e3efa539a97d637fdbfd08912361bf36f6624648ec9ab31eb7e0ed6ea4abab',
      correct: '486ea46224d1bb4fb680f34f7c9ad96a8f24ec88be73ea8e5a6c65260e9cb8a7',
  },

  {
      name: 'et_factorial_zero',
      hash: '3f958168be0979053738e0048e4f2c9c3b02f74a164ca8127e7c9915f759f0dc',
      correct: 'dea7111a8406e27cfc8bf5f49c5d40898402b0b584b3285f069170a36f9eec31',
  },

  {
      name: 'et_max_subsum',
      hash: '5ea329b7b52814df7b5ab4923ef1bfc0978e294c86efef21b80ef2c2d40c096d',
      correct: '60be9861750facbfad8758254a2f76c0cfe78d54459a3bc187d49b1401fcd8e8',
  },

  {
      name: 'mh_roman_numerals',
      hash: 'd92bb51513c12657ecea21dd48813670b18433ec4d324137294b6d360a967d8a',
      correct: '3fc4ccfe745870e2c0d99f71f30ff0656c8dedd41cc1d7d3d376b0dbe685e2f3',
  },

  {
      name: 'et_palindrom',
      hash: '69bee726b4ca48d01f842d9e078da166315c1ae1bf54f771c8a76e98de9961b6',
      correct: 'd34a569ab7aaa54dacd715ae64953455d86b768846cd0085ef4e9e7471489b7b',
  },

  {
      name: 'mh_sort',
      hash: 'c52fbfe4a45db3ec8c89834cd3e66ef40599cc13a557bc08d538c80ae812d4f4',
      correct: 'ab5e9e376f9539179e465f248595caac9789aed486e8da331495e2cf8f4c5634',
  },

  {
      name: 'mh_islands',
      hash: '2fedef199225813c5001ca71bb1e3604bd9365765690cf5a056f767057bc3109',
      correct: '62484e22a6a5ade1ba25cb1b7c55c4b8861de24caddab73c9409742734008b26',
  },

  {
      name: 'mh_prefix_notation',
      hash: '2aa53a80b5b22cf60bc9f44c4ec2aafea06ac0e1f4561f1c5d50ff7633b22bf1',
      correct: 'bbc5e661e106c6dcd8dc6dd186454c2fcba3c710fb4d8e71a60c93eaf077f073',
  },

  {
      name: 'et_convert',
      hash: '3e6fc25cb34e5d0b2a65fcfa14b6498682ae1cd90eab38543d403f25a309d65e',
      correct: 'aa97302150fce811425cd84537028a5afbe37e3f1362ad45a51d467e17afdc9c',
  },

  {
      name: 'et_divisors',
      hash: '960cc643dc2b3036c4960a51f8e1df127660366be13f3642361089019c0031cf',
      correct: '59d6d61431fce7d91388d0c60374ddaadc1acd8370221e11b029621656d5ccec',
  },

  {
      name: 'mh_squares',
      hash: 'f9129fcf0412134d63f6424f74954fa975d92142bbfdb7b20696197ddbce6767',
      correct: '4cb4ea25583c25647247ae96fc90225d99ad7a6fabc3e2c2fd13c502e323cd9e',
  },

  {
      name: 'mh_stars',
      hash: '31f46eccca6923dc21e5e8530618df04bb704e0759e7da8ca8f5f010aa7c7db2',
      correct: 'a6a2729cbf6bcadce577a31f7f76201d5ce63c57d6c53318000d67714bb354ef',
  },

  {
      name: 'mh_emo',
      hash: '5fc5bce200956262a6ec0a7b0d86766b6728cfd91ace9b2c8179dc57d670cf1d',
      correct: '80f189984e5ca70287d13342f6daa0db45cba3c131c4e46dc81360f3a4c4f690',
  },

  {
      name: 'mh_trinagles',
      hash: '53b9e8f28ddaaae7fd5e030f5c99fbd36f5bef3955dfb0a57de3465fd47900c3',
      correct: '38a81e87e79631e602bf5fbd307ce2fcd382b1670c585ea09032aac778a80531',
  },

  {
      name: 'et_sudoku',
      hash: '106b67fe325a795457756936cba10411380567e6c668380b7226c97d47e2fb93',
      correct: 'd70afca615203838da3d858e60dda12f900e83e4a6fb03a63cfadb8576ca8985',
  },

  {
      name: 'mh_temperature',
      hash: '425cf60b1051a51738ef7e9ea67bbc4fc7276c1049384a77f57a2832b3def71d',
      correct: '5b7e6bf2dc4a32a6aa4770cd5639c2c7af890fc86c273b5c8567fe5382086bf3',
  },
]

function getElem(id) {
  return document.getElementById(id)
}

function createNameKey(name) {
  return name.replace(/\s+/g, '').toLowerCase();
}

// create options for select
var selectElem = getElem('problem-select')
for (var i = 0; i < problemList.length; i++) {
  var opt = document.createElement('option');
  opt.text = problemList[i].name;
  opt.value = problemList[i].name;

  selectElem.add(opt, null);
}

var submitElem = getElem('submit')
var textAreaElem = getElem('input-area')
function onSubmit(e) {
  e.preventDefault()
  var submitHash = sha256(getElem('problem-select').value + textAreaElem.value)
  var response = getRandomResponse(submitHash)
  var problem = problemList[selectElem.selectedIndex]
  var correctWord = getCorrectResponse(problem.correct)
  if (problem.hash === submitHash) {
    response = correctWord
  } else {
    while(response === correctWord) response = getRandomResponse(submitHash)
  }
  alert(problem.name + ": " + response.toUpperCase())
}
submitElem.onclick = onSubmit
